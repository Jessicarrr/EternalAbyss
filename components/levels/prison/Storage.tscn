[gd_scene load_steps=36 format=3 uid="uid://bug4m8f68fkbn"]

[ext_resource type="Script" path="res://components/shared/scripts/levels/ReplaceWallWithDoor.gd" id="1_4di7a"]
[ext_resource type="Script" path="res://components/shared/scripts/levels/Decorations.gd" id="1_p3ckr"]
[ext_resource type="Texture2D" uid="uid://dscoavfvq5e6s" path="res://textures/prison/bricks.png" id="1_ur42q"]
[ext_resource type="Texture2D" uid="uid://b1nmn3rorrdsk" path="res://textures/prison/welder_stone.png" id="2_7ubfa"]
[ext_resource type="PackedScene" uid="uid://b6u3wrs6gna1b" path="res://components/levels/prison/WeatheredDoor.tscn" id="4_1ax4q"]
[ext_resource type="PackedScene" uid="uid://c41eu1m1g72vu" path="res://models/scenes/wall_torch.tscn" id="5_66x1n"]
[ext_resource type="PackedScene" uid="uid://c3u17majpvdaw" path="res://components/levels/prison/shelf_storage_prison_01.tscn" id="6_64dmo"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lfu00"]
albedo_texture = ExtResource("1_ur42q")
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_2p0td"]
material = SubResource("StandardMaterial3D_lfu00")

[sub_resource type="BoxShape3D" id="BoxShape3D_jxidv"]
size = Vector3(2, 0.001, 2)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_p7hxc"]
load_path = "res://.godot/imported/bricks.png-a1cbf4706eb1131ca478a6908aad6c45.bptc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ncjx3"]
albedo_texture = SubResource("CompressedTexture2D_p7hxc")
uv1_scale = Vector3(2, 2, 2)
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_cxaaq"]
material = SubResource("StandardMaterial3D_ncjx3")
size = Vector2(4, 4)

[sub_resource type="BoxShape3D" id="BoxShape3D_20hqo"]
size = Vector3(4, 0.001, 4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v2lp3"]
albedo_texture = ExtResource("1_ur42q")
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_xedni"]
material = SubResource("StandardMaterial3D_v2lp3")

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_j5brb"]
load_path = "res://.godot/imported/bricks.png-a1cbf4706eb1131ca478a6908aad6c45.bptc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wiroj"]
albedo_texture = SubResource("CompressedTexture2D_j5brb")
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_8pg0l"]
material = SubResource("StandardMaterial3D_wiroj")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_buxl7"]
albedo_texture = SubResource("CompressedTexture2D_j5brb")
uv1_scale = Vector3(0.5, 1, 1)
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_4icew"]
material = SubResource("StandardMaterial3D_buxl7")
size = Vector2(1, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_ui6x5"]
size = Vector3(1, 0.001, 2)

[sub_resource type="PlaneMesh" id="PlaneMesh_fg0yj"]
material = SubResource("StandardMaterial3D_buxl7")
size = Vector2(1, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_ag7dw"]
size = Vector3(1, 0.001, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_1frai"]
size = Vector3(1, 0.001, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_3buny"]
size = Vector3(1, 0.001, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hjn6s"]
albedo_texture = ExtResource("1_ur42q")
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_rxjy6"]
material = SubResource("StandardMaterial3D_hjn6s")

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_8wlws"]
load_path = "res://.godot/imported/bricks.png-a1cbf4706eb1131ca478a6908aad6c45.bptc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qhn6v"]
albedo_texture = SubResource("CompressedTexture2D_8wlws")
uv1_scale = Vector3(2, 2, 2)
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_c7al5"]
material = SubResource("StandardMaterial3D_qhn6v")
size = Vector2(4, 4)

[sub_resource type="BoxShape3D" id="BoxShape3D_to63q"]
size = Vector3(4, 0.001, 4)

[sub_resource type="BoxShape3D" id="BoxShape3D_nv1d3"]
size = Vector3(3.95, 1.9, 3.95)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3htdy"]
albedo_texture = ExtResource("2_7ubfa")
uv1_scale = Vector3(2, 2, 2)
uv1_offset = Vector3(0, 0.008, 0)
texture_filter = 0

[sub_resource type="BoxMesh" id="BoxMesh_cxl1i"]
material = SubResource("StandardMaterial3D_3htdy")
size = Vector3(0.2, 2, 0.2)

[node name="Storage_01" type="Node3D"]
script = ExtResource("1_p3ckr")
metadata/RoomType = "PrisonCell"
metadata/AllowedConnections = {
"Hallway": 1.0
}
metadata/StartingArea = true

[node name="ReplaceWallWithDoor" type="Node" parent="."]
script = ExtResource("1_4di7a")
door_node = NodePath("../WeatheredDoor")
connection_points_node = NodePath("../ConnectionPoints")

[node name="FurnitureVariations" type="Node3D" parent="."]

[node name="ConnectionPoints" type="Node3D" parent="."]

[node name="Wall1" type="MeshInstance3D" parent="ConnectionPoints"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1, -1)
mesh = SubResource("PlaneMesh_2p0td")
skeleton = NodePath("../..")
metadata/ConnectionPointUsed = false
metadata/PercentChanceOfDoor = 100

[node name="StaticBody3D" type="StaticBody3D" parent="ConnectionPoints/Wall1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="ConnectionPoints/Wall1/StaticBody3D"]
shape = SubResource("BoxShape3D_jxidv")

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
mesh = SubResource("PlaneMesh_cxaaq")

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource("BoxShape3D_20hqo")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, -2, 1, 0)
mesh = SubResource("PlaneMesh_xedni")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall2"]
transform = Transform3D(1, 0, 0, 0, 1, -8.35189e-23, 0, -8.35188e-23, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall2/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, -8.35189e-23, 0, -8.35188e-23, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_jxidv")

[node name="Wall5" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, -2, 1, 2)
mesh = SubResource("PlaneMesh_xedni")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall5"]
transform = Transform3D(1, 0, 0, 0, 1, -8.35189e-23, 0, -8.35188e-23, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall5/StaticBody3D"]
shape = SubResource("BoxShape3D_jxidv")

[node name="Wall6" type="MeshInstance3D" parent="."]
transform = Transform3D(1.31134e-07, -1, 4.37114e-08, 0, -4.37114e-08, -1, 1, 1.31134e-07, -5.73206e-15, 2, 1, 2)
mesh = SubResource("PlaneMesh_xedni")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall6"]
transform = Transform3D(1, 0, 0, 0, 1, -8.35189e-23, 0, -8.35188e-23, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall6/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, -7.51669e-22, 0, -7.51669e-22, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_jxidv")

[node name="Wall3" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, -3.82137e-15, 0, -4.37114e-08, -1, -8.74228e-08, -1, 4.37114e-08, 0, 1, 3)
mesh = SubResource("PlaneMesh_8pg0l")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall3/StaticBody3D"]
transform = Transform3D(1, 0, 1.11075e-28, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_jxidv")

[node name="HalfWall2" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, -3.82137e-15, 0, -4.37114e-08, -1, -8.74228e-08, -1, 4.37114e-08, -1.5, 1, 3)
mesh = SubResource("PlaneMesh_4icew")

[node name="StaticBody3D" type="StaticBody3D" parent="HalfWall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="HalfWall2/StaticBody3D"]
transform = Transform3D(1, 0, 1.11075e-28, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_ui6x5")

[node name="HalfWall3" type="MeshInstance3D" parent="."]
transform = Transform3D(1, -2.13163e-14, -1.69407e-21, 0, -4.37114e-08, -1, 2.13163e-14, 1, -4.37114e-08, -1.5, 1, -1)
mesh = SubResource("PlaneMesh_fg0yj")

[node name="StaticBody3D" type="StaticBody3D" parent="HalfWall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="HalfWall3/StaticBody3D"]
transform = Transform3D(1, 0, 1.11075e-28, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_ag7dw")

[node name="HalfWall4" type="MeshInstance3D" parent="."]
transform = Transform3D(1, -2.13163e-14, -1.69407e-21, 0, -4.37114e-08, -1, 2.13163e-14, 1, -4.37114e-08, 1.5, 1, -1)
mesh = SubResource("PlaneMesh_4icew")

[node name="StaticBody3D" type="StaticBody3D" parent="HalfWall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="HalfWall4/StaticBody3D"]
transform = Transform3D(1, 0, 1.11075e-28, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_1frai")

[node name="HalfWall1" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, -3.82137e-15, 0, -4.37114e-08, -1, -8.74228e-08, -1, 4.37114e-08, 1.5, 1, 3)
mesh = SubResource("PlaneMesh_4icew")

[node name="StaticBody3D" type="StaticBody3D" parent="HalfWall1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="HalfWall1/StaticBody3D"]
transform = Transform3D(1, 0, 1.11075e-28, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_3buny")

[node name="Wall4" type="MeshInstance3D" parent="."]
transform = Transform3D(-5.96046e-08, -1, 0, -4.37114e-08, 2.6054e-15, -1, 1, -5.96046e-08, -4.37114e-08, 2, 1, 0)
mesh = SubResource("PlaneMesh_rxjy6")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall4/StaticBody3D"]
shape = SubResource("BoxShape3D_jxidv")

[node name="Ceiling" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 1.19209e-07, 0, -1.19209e-07, -1, 0, 0, 0, 1, 0, 2, 1)
mesh = SubResource("PlaneMesh_c7al5")

[node name="StaticBody3D" type="StaticBody3D" parent="Ceiling"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ceiling/StaticBody3D"]
shape = SubResource("BoxShape3D_to63q")

[node name="Bounds" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Bounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1)
shape = SubResource("BoxShape3D_nv1d3")

[node name="WelderStone5" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, -2, 1, 3)
mesh = SubResource("BoxMesh_cxl1i")
skeleton = NodePath("../..")

[node name="WelderStone6" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 2, 1, 3)
mesh = SubResource("BoxMesh_cxl1i")
skeleton = NodePath("../..")

[node name="WelderStone9" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 1.8927, 1, -0.892644)
mesh = SubResource("BoxMesh_cxl1i")
skeleton = NodePath("../..")

[node name="WelderStone10" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, -1.89467, 1, -0.892644)
mesh = SubResource("BoxMesh_cxl1i")
skeleton = NodePath("../..")

[node name="WelderStone7" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 1, 1, -1)
mesh = SubResource("BoxMesh_cxl1i")
skeleton = NodePath("../..")

[node name="WelderStone8" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, -1, 1, -1)
mesh = SubResource("BoxMesh_cxl1i")
skeleton = NodePath("../..")

[node name="WeatheredDoor" parent="." instance=ExtResource("4_1ax4q")]
process_mode = 3
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.62784, 1, 0)

[node name="wall_torch" parent="." instance=ExtResource("5_66x1n")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1.8999, 1, 1)
metadata/PercentChance = 15

[node name="wall_torch2" parent="." instance=ExtResource("5_66x1n")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -1.88109, 1, 1)
metadata/PercentChance = 15

[node name="Shelf_Storage_Prison_01" parent="." instance=ExtResource("6_64dmo")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.62252, 0, 0)

[node name="Shelf_Storage_Prison_02" parent="." instance=ExtResource("6_64dmo")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1.62252, 0, 2)

[node name="Shelf_Storage_Prison_03" parent="." instance=ExtResource("6_64dmo")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.37748, 0, 2)

[node name="Shelf_Storage_Prison_04" parent="." instance=ExtResource("6_64dmo")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.37748, 0, 0)
